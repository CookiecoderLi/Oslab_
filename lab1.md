<h1><center>lab1实验报告</center></h1>

# 一、练习

### 练习1：理解内核启动中的程序入口操作

```
la sp, bootstacktop
```

1. 完成的操作
   
   将`bootstacktop`的地址加载到堆栈指针`sp`中，`sp`通常是指向栈顶的指针，即将`bootstacktop`的地址作为起始地址。

2. 目的
   
   在操作系统内核启动的时候，将栈顶指针设置到特定地址，可以建立一个可控的堆栈。
   
   在后续操作系统内核启动过程中可能发生函数调用、中断处理、堆栈操作等等，这时便需要这个可以有效控制、设计的堆栈，来保存函数的变量、返回地址或设计该栈的空间大小等，来保证系统的稳定性和可操作性。同时这样设置也可以确保内核有一个定义好的、不会与其他数据冲突的堆栈空间。

```
tail kern_init
```

1. 完成的操作
   
   通过尾调用`kern_init`，直接跳转到`kern_init`函数的入口地址。

2. 目的
   
   `kern_init`是内核初始化的主函数，尾调用后开始内核的初始化。同时使用尾调用直接跳转到目标函数，意味着当前函数的栈帧将**被新调用的函数重用**，可以避免在函数返回时需要额外的栈空间，防止栈溢出




